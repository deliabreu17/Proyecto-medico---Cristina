<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema M√©dico - Dra. Cristina Garc√≠a</title>
    <link rel="stylesheet" href="styles.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- ==================== LOGIN ==================== -->
    <div id="login-page" class="login-container">
        <div class="login-card-split">
            <!-- Branding Side (Left) -->
            <div class="login-brand-side">
                <div class="brand-overlay"></div>
                <div class="brand-content">
                    <div class="login-logo-large">
                        <svg viewBox="0 0 200 200"
                            style="width: 100%; height: 100%; filter: drop-shadow(0 8px 16px rgba(0,0,0,0.2));">
                            <!-- 1. Parte Izquierda del Coraz√≥n (Cyan/Turquesa) -->
                            <path d="M100 160 
                                     C 60 140, 40 100, 45 70 
                                     C 50 40, 80 40, 95 65
                                     C 85 55, 65 55, 60 75
                                     C 55 95, 75 125, 100 145" fill="#5DADE2" stroke="#48C9B0" stroke-width="1" />

                            <!-- 2. Parte Central del Coraz√≥n (Rosa/Rojo) -->
                            <path d="M100 145
                                     C 125 125, 140 95, 135 75
                                     C 130 55, 100 55, 90 75" fill="#EC7063" />

                            <!-- 3. Figura Humana Abstracta (Centro) -->
                            <circle cx="95" cy="85" r="8" fill="#AF7AC5" />
                            <path d="M80 100 Q 95 110 110 100 L 105 115 Q 95 120 85 115 Z" fill="#6C3483" />

                            <!-- 4. Estetoscopio (Azul Oscuro y Verde) -->
                            <path d="M135 60
                                     C 145 50, 160 50, 165 65
                                     C 170 85, 150 120, 100 160
                                     C 90 168, 80 150, 90 140" fill="none" stroke="#1F618D" stroke-width="8"
                                stroke-linecap="round" />

                            <path d="M135 60 L 135 40" stroke="#5D6D7E" stroke-width="6" />
                            <path d="M165 65 L 165 40" stroke="#5D6D7E" stroke-width="6" />
                            <path d="M135 40 Q 150 20 165 40" fill="none" stroke="#5D6D7E" stroke-width="4" />
                            <circle cx="132" cy="40" r="4" fill="#1F618D" />
                            <circle cx="168" cy="40" r="4" fill="#1F618D" />
                            <circle cx="110" cy="155" r="12" fill="#58D68D" stroke="#1F618D" stroke-width="2" />
                            <circle cx="110" cy="155" r="5" fill="#1F618D" />
                        </svg>
                    </div>
                    <h1>Dra. Cristina Garc√≠a Dom√≠nguez</h1>
                    <p>Pediatra Cardi√≥logo</p>
                </div>
            </div>

            <!-- Form Side (Right) -->
            <div class="login-form-side">
                <div class="form-wrapper">
                    <div class="form-header">
                        <h2>Bienvenido</h2>
                        <p>Sistema de Gesti√≥n M√©dica</p>
                    </div>

                    <form id="login-form">
                        <div class="form-group floating-group">
                            <label>Usuario</label>
                            <input type="text" id="login-user" class="form-control" placeholder="Ej: admin" required>
                        </div>
                        <div class="form-group floating-group">
                            <label>Contrase√±a</label>
                            <input type="password" id="login-pass" class="form-control" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                        </div>
                        <div id="login-error" class="error-msg" style="display:none;"></div>
                        <button type="submit" class="btn-primary btn-full btn-lg">Acceder al Sistema</button>
                    </form>
                </div>
                <div class="login-footer">
                    <p>&copy; 2025 Dra. Garc√≠a</p>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- ==================== APP ==================== -->
    <div id="app-container" class="app-container" style="display:none;">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon" style="width: 50px; height: 50px; background: none; font-size: 0;">
                    <svg viewBox="0 0 200 200" style="width: 100%; height: 100%;">
                        <!-- 1. Parte Izquierda (Cyan) -->
                        <path
                            d="M100 160 C 60 140, 40 100, 45 70 C 50 40, 80 40, 95 65 C 85 55, 65 55, 60 75 C 55 95, 75 125, 100 145"
                            fill="#5DADE2" />
                        <!-- 2. Parte Central (Rosa) -->
                        <path d="M100 145 C 125 125, 140 95, 135 75 C 130 55, 100 55, 90 75" fill="#EC7063" />
                        <!-- 3. Figura (Morado) -->
                        <circle cx="95" cy="85" r="8" fill="#AF7AC5" />
                        <path d="M80 100 Q 95 110 110 100 L 105 115 Q 95 120 85 115 Z" fill="#6C3483" />
                        <!-- 4. Estetoscopio (Azul) -->
                        <path d="M135 60 C 145 50, 160 50, 165 65 C 170 85, 150 120, 100 160" fill="none"
                            stroke="#1F618D" stroke-width="8" stroke-linecap="round" />
                        <!-- Campana Verde -->
                        <circle cx="110" cy="155" r="10" fill="#58D68D" />
                    </svg>
                </div>
                <div class="logo-text">
                    <h1 style="font-size: 14px; margin-bottom: 2px; line-height: 1.2;">Dra. Cristina Garc√≠a Dom√≠nguez
                    </h1>
                    <p style="font-size: 10px; opacity: 0.8; color: #82e0aa;">Pediatra Cardi√≥logo</p>
                </div>
            </div>

            <nav class="nav-menu">
                <a href="#" class="nav-item active" data-view="dashboard">
                    <span class="nav-icon">üè†</span>
                    Inicio
                </a>
                <a href="#" class="nav-item" data-view="citas">
                    <span class="nav-icon">üìÖ</span>
                    Agenda
                </a>
                <a href="#" class="nav-item" data-view="pacientes">
                    <span class="nav-icon">üë•</span>
                    Pacientes
                </a>
                <a href="#" class="nav-item" data-view="estadisticas">
                    <span class="nav-icon">üìä</span>
                    Estad√≠sticas
                </a>
            </nav>

            <div class="sidebar-user">
                <div class="user-info">
                    <div class="user-avatar" id="user-avatar">A</div>
                    <div>
                        <p class="user-name" id="user-name">Usuario</p>
                        <p class="user-role" id="user-role">Rol</p>
                    </div>
                </div>
                <button id="btn-logout" class="btn-logout">Salir</button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard View -->
            <section id="view-dashboard" class="view active">
                <header class="page-header">
                    <div>
                        <h2 class="page-title">¬°Buen d√≠a! üëã</h2>
                        <p class="page-subtitle" id="fecha-hoy"></p>
                    </div>
                    <button id="btn-refresh" class="btn-secondary">üîÑ Actualizar</button>
                </header>

                <div class="stats-grid">
                    <div class="stat-card stat-teal">
                        <div class="stat-content">
                            <p class="stat-label">Citas Hoy</p>
                            <p class="stat-value" id="stat-citas-hoy">-</p>
                        </div>
                        <div class="stat-icon">üìÖ</div>
                    </div>
                    <div class="stat-card stat-coral" id="card-pacientes">
                        <div class="stat-content">
                            <p class="stat-label">Total Pacientes</p>
                            <p class="stat-value" id="stat-pacientes">-</p>
                        </div>
                        <div class="stat-icon">üë•</div>
                    </div>
                    <div class="stat-card stat-purple" id="card-citas">
                        <div class="stat-content">
                            <p class="stat-label">Total Citas</p>
                            <p class="stat-value" id="stat-total">-</p>
                        </div>
                        <div class="stat-icon">üìã</div>
                    </div>
                    <div class="stat-card stat-green" id="card-nuevos">
                        <div class="stat-content">
                            <p class="stat-label">Pacientes Nuevos</p>
                            <p class="stat-value" id="stat-nuevos">-</p>
                        </div>
                        <div class="stat-icon">üÜï</div>
                    </div>
                    <div class="stat-card stat-blue" id="card-recurrentes">
                        <div class="stat-content">
                            <p class="stat-label">Pacientes Recurrentes</p>
                            <p class="stat-value" id="stat-recurrentes">-</p>
                        </div>
                        <div class="stat-icon">üîÑ</div>
                    </div>
                </div>

                <div class="section-card">
                    <div class="section-header">
                        <h3>üìã Citas de Hoy</h3>
                        <a href="#" class="link-btn" data-view="citas">Ver todas ‚Üí</a>
                    </div>
                    <div id="citas-hoy-lista" class="citas-lista">
                        <p class="empty-state">Cargando citas...</p>
                    </div>
                </div>
            </section>

            <!-- Agenda View -->
            <section id="view-citas" class="view">
                <header class="page-header">
                    <div>
                        <h2 class="page-title">üìÖ Agenda de Citas</h2>
                        <p class="page-subtitle">Gestiona las citas del consultorio</p>
                    </div>
                </header>

                <div class="date-nav">
                    <button id="btn-prev-day" class="btn-secondary">‚Üê Anterior</button>
                    <div class="date-display">
                        <h3 id="fecha-seleccionada"></h3>
                        <p id="citas-count"></p>
                        <input type="date" id="fecha-picker" title="Seleccionar fecha">
                    </div>
                    <button id="btn-next-day" class="btn-secondary">Siguiente ‚Üí</button>
                </div>

                <div id="citas-agenda-lista" class="citas-lista">
                    <p class="empty-state">Cargando citas...</p>
                </div>
            </section>

            <!-- Pacientes View -->
            <section id="view-pacientes" class="view">
                <header class="page-header">
                    <div>
                        <h2 class="page-title">üë• Pacientes</h2>
                        <p class="page-subtitle" id="pacientes-count">Cargando...</p>
                    </div>
                </header>

                <div class="search-box">
                    <input type="text" id="buscar-paciente" placeholder="üîç Buscar paciente por nombre o tel√©fono...">
                </div>

                <div id="pacientes-lista" class="pacientes-lista">
                    <p class="empty-state">Cargando pacientes...</p>
                </div>
            </section>

            <!-- Estad√≠sticas View -->
            <section id="view-estadisticas" class="view">
                <header class="page-header">
                    <div>
                        <h2 class="page-title">üìä Estad√≠sticas</h2>
                        <p class="page-subtitle">An√°lisis de datos del consultorio</p>
                    </div>
                    <button id="btn-refresh-stats" class="btn-secondary">üîÑ Actualizar</button>
                </header>

                <!-- Resumen General -->
                <div class="stats-grid stats-small">
                    <div class="stat-card stat-teal">
                        <div class="stat-content">
                            <p class="stat-label">Total Citas</p>
                            <p class="stat-value" id="stats-total-citas">-</p>
                        </div>
                    </div>
                    <div class="stat-card stat-coral">
                        <div class="stat-content">
                            <p class="stat-label">Total Pacientes</p>
                            <p class="stat-value" id="stats-total-pacientes">-</p>
                        </div>
                    </div>
                    <div class="stat-card stat-green">
                        <div class="stat-content">
                            <p class="stat-label">Pacientes Nuevos</p>
                            <p class="stat-value" id="stats-nuevos">-</p>
                        </div>
                    </div>
                    <div class="stat-card stat-purple">
                        <div class="stat-content">
                            <p class="stat-label">Pacientes Recurrentes</p>
                            <p class="stat-value" id="stats-recurrentes">-</p>
                        </div>
                    </div>
                </div>

                <!-- Charts Grid -->
                <div class="charts-grid">
                    <!-- Especialidad m√°s solicitada -->
                    <div class="chart-card">
                        <h3>ü©∫ Especialidades Solicitadas</h3>
                        <div id="chart-especialidades" class="chart-bars"></div>
                    </div>

                    <!-- Tipo de Seguro -->
                    <div class="chart-card">
                        <h3>üí≥ Tipo de Consulta</h3>
                        <div id="chart-seguro" class="chart-bars"></div>
                    </div>

                    <!-- Motivos principales -->
                    <div class="chart-card chart-full">
                        <h3>üìã Motivos Principales de Consulta</h3>
                        <div id="chart-motivos" class="chart-bars"></div>
                    </div>
                </div>

                <!-- Secci√≥n Financiera -->
                <h2 class="section-title" style="margin-top: 30px; font-size: 20px; color: var(--text-dark);">üí∞
                    Estad√≠sticas Financieras</h2>

                <div class="stats-grid stats-small" style="margin-top: 15px;">
                    <div class="stat-card stat-green">
                        <div class="stat-content">
                            <p class="stat-label">Ingresos Totales</p>
                            <p class="stat-value" id="stats-ingresos-totales">RD$ -</p>
                        </div>
                    </div>
                    <div class="stat-card stat-blue">
                        <div class="stat-content">
                            <p class="stat-label">Promedio por Cita</p>
                            <p class="stat-value" id="stats-promedio-cita">RD$ -</p>
                        </div>
                    </div>
                    <div class="stat-card stat-coral">
                        <div class="stat-content">
                            <p class="stat-label">Ingresos Seguro</p>
                            <p class="stat-value" id="stats-ingresos-seguro">RD$ -</p>
                        </div>
                    </div>
                    <div class="stat-card stat-purple">
                        <div class="stat-content">
                            <p class="stat-label">Ingresos Privado</p>
                            <p class="stat-value" id="stats-ingresos-privado">RD$ -</p>
                        </div>
                    </div>
                </div>

                <div class="charts-grid" style="margin-top: 20px;">
                    <!-- Ingresos por Especialidad -->
                    <div class="chart-card">
                        <h3>ü©∫ Ingresos por Especialidad</h3>
                        <div id="chart-ingresos-especialidad" class="chart-bars"></div>
                    </div>

                    <!-- Ingresos por Tipo de Seguro -->
                    <div class="chart-card">
                        <h3>üí≥ Ingresos por Tipo de Consulta</h3>
                        <div id="chart-ingresos-seguro" class="chart-bars"></div>
                    </div>

                    <!-- Gr√°fico de Ingresos por Mes -->
                    <div class="chart-card chart-full">
                        <h3>üìÖ Ingresos Mensuales</h3>
                        <div id="chart-ingresos-mensuales" class="chart-monthly"></div>
                    </div>
                </div>

                <!-- Filtros Activos -->
                <div id="filtros-activos" class="filtros-activos" style="display: none;">
                    <span class="filtros-label">üîç Filtros activos:</span>
                    <div id="filtros-badges" class="filtros-badges"></div>
                    <button id="btn-limpiar-filtros" class="btn-limpiar">‚úï Limpiar filtros</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Confirm Modal -->
    <div id="confirm-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content confirm-modal-content">
            <div class="modal-header">
                <h3 id="confirm-modal-title">Confirmar Acci√≥n</h3>
            </div>
            <div class="modal-body">
                <p id="confirm-modal-message">¬øEst√° seguro de realizar esta acci√≥n?</p>
            </div>
            <div class="modal-footer">
                <button id="confirm-modal-cancel" class="btn-secondary">Cancelar</button>
                <button id="confirm-modal-ok" class="btn-primary">Confirmar</button>
            </div>
        </div>
    </div>

    <!-- Date Picker Modal -->
    <div id="datepicker-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content datepicker-modal-content">
            <div class="modal-header">
                <button id="dp-prev-month" class="dp-nav-btn">‚Äπ</button>
                <h3 id="dp-month-year"></h3>
                <button id="dp-next-month" class="dp-nav-btn">‚Ä∫</button>
            </div>
            <div class="dp-weekdays">
                <span>Dom</span><span>Lun</span><span>Mar</span><span>Mi√©</span><span>Jue</span><span>Vie</span><span>S√°b</span>
            </div>
            <div id="dp-days" class="dp-days"></div>
            <div class="modal-footer">
                <button id="dp-today" class="btn-secondary">Hoy</button>
                <button id="dp-cancel" class="btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>